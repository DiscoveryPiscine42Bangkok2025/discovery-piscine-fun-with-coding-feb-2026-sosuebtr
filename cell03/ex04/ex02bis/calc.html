<!DOCTYPE html>
<html>
<head>
    <title>Calculator</title>
</head>
<body>

    <div class="calculator">
        <input type="text" id="leftOperand" placeholder="Enter Number">

        <select id="operator">
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">*</option>
            <option value="/">/</option>
            <option value="%">%</option>
        </select>

        <input type="text" id="rightOperand" placeholder="Enter Number">

        <input type="submit" id="calculateBtn" value="Try me!">
    </div>
 <!-- IMPORTANT: jQuery  -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
$(function(){

    const IDLE_TIME = 30000;
    let idleTimer = null;

    function startIdleTimer() {
        idleTimer = setTimeout(function idleAlert() {
            alert("Please, use me...");
            idleTimer = setTimeout(idleAlert, IDLE_TIME);
        }, IDLE_TIME);
    }

    function resetIdleTimer() {
        if (idleTimer !== null)
            clearTimeout(idleTimer);
        startIdleTimer();
    }

    $("#leftOperand, #rightOperand").on("input", resetIdleTimer);
    $("#operator").on("change", resetIdleTimer);
    $("#calculateBtn").on("click", resetIdleTimer);

    startIdleTimer();

    $("#calculateBtn").click(function(){

        let leftOperand = $("#leftOperand").val().trim();
        let rightOperand = $("#rightOperand").val().trim();
        let operator = $("#operator").val();

        if (leftOperand === "" || rightOperand === "") {
            alert("Error :(");
            return;
        }

        if (leftOperand.includes(".") || rightOperand.includes(".")) {
            alert("Error :(");
            return;
        }

        if (Number(leftOperand) < 0 || Number(rightOperand) < 0) {
            alert("Error :(");
            return;
        }

        if (isNaN(leftOperand) || isNaN(rightOperand)) {
            alert("Error :(");
            return;
        }

        let left = parseInt(leftOperand, 10);
        let right = parseInt(rightOperand, 10);

        if ((operator === "/" || operator === "%") && right === 0) {
            alert("It's over 9000!");
            console.log("It's over 9000!");
            return;
        }

        let result;

        switch(operator){
            case "+": result = left + right; break;
            case "-": result = left - right; break;
            case "*": result = left * right; break;
            case "/": result = left / right; break;
            case "%": result = left % right; break;
            default:
                alert("Error :(");
                return;
        }

        alert("Result: " + result);
        console.log("Result: " + result);
    });

});
</script>


</body>
</html>